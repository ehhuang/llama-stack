Collecting uv
  Downloading uv-0.8.17-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (11 kB)
Downloading uv-0.8.17-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (21.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 21.1/21.1 MB 120.1 MB/s eta 0:00:00
Installing collected packages: uv
Successfully installed uv-0.8.17
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

[notice] A new release of pip is available: 24.0 -> 25.2
[notice] To update, run: pip install --upgrade pip
Using Python 3.11.13 environment at: /usr/local
Resolved 61 packages in 494ms
Downloading pygments (1.2MiB)
Downloading pillow (6.3MiB)
Downloading tokenizers (3.2MiB)
Downloading numpy (16.2MiB)
Downloading pandas (11.8MiB)
Downloading pyarrow (40.8MiB)
Downloading aiohttp (1.7MiB)
Downloading hf-xet (3.0MiB)
Downloading transformers (11.1MiB)
Downloading pydantic-core (1.9MiB)
 Downloading pydantic-core
 Downloading aiohttp
 Downloading hf-xet
 Downloading tokenizers
 Downloading pygments
 Downloading pillow
 Downloading numpy
 Downloading pandas
 Downloading pyarrow
 Downloading transformers
Prepared 61 packages in 1.22s
Installed 61 packages in 136ms
 + aiohappyeyeballs==2.6.1
 + aiohttp==3.12.15
 + aiosignal==1.4.0
 + annotated-types==0.7.0
 + anyio==4.10.0
 + attrs==25.3.0
 + certifi==2025.8.3
 + charset-normalizer==3.4.3
 + click==8.1.8
 + datasets==4.0.0
 + dill==0.3.8
 + filelock==3.19.1
 + frozenlist==1.7.0
 + fsspec==2025.3.0
 + ftfy==6.3.1
 + guidellm==0.3.0
 + h11==0.16.0
 + h2==4.3.0
 + hf-xet==1.1.9
 + hpack==4.1.0
 + httpcore==1.0.9
 + httpx==0.28.1
 + huggingface-hub==0.34.4
 + hyperframe==6.1.0
 + idna==3.10
 + loguru==0.7.3
 + markdown-it-py==4.0.0
 + mdurl==0.1.2
 + multidict==6.6.4
 + multiprocess==0.70.16
 + numpy==2.3.3
 + packaging==25.0
 + pandas==2.3.2
 + pillow==11.3.0
 + propcache==0.3.2
 + protobuf==6.32.0
 + pyarrow==21.0.0
 + pydantic==2.11.7
 + pydantic-core==2.33.2
 + pydantic-settings==2.10.1
 + pygments==2.19.2
 + python-dateutil==2.9.0.post0
 + python-dotenv==1.1.1
 + pytz==2025.2
 + pyyaml==6.0.2
 + regex==2025.9.1
 + requests==2.32.5
 + rich==14.1.0
 + safetensors==0.6.2
 + six==1.17.0
 + sniffio==1.3.1
 + tokenizers==0.22.0
 + tqdm==4.67.1
 + transformers==4.56.1
 + typing-extensions==4.15.0
 + typing-inspection==0.4.1
 + tzdata==2025.2
 + urllib3==2.5.0
 + wcwidth==0.2.13
 + xxhash==3.5.0
 + yarl==1.20.1
Using Python 3.11.13 environment at: /usr/local
Audited 1 package in 3ms
Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
Creating backend...
Backend openai_http connected to http://llama-stack-benchmark-service:8323/v1/openai for model meta-llama/Llama-3.2-3B-Instruct.
Creating request loader...
Created loader with 1000 unique requests from prompt_tokens=512,output_tokens=256.
                                                                                  
                                                                                  
╭─ Benchmarks ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ [18:12:47] ⠋ 100% synchronous   (complete)   Req:    0.3 req/s,    3.27s Lat,     1.0 Conc,      18 Comp,        1 Inc,        0 Err                                                                 │
│                                              Tok:   75.5 gen/s,  242.7 tot/s,  37.1ms TTFT,   13.1ms ITL,   546 Prompt,      247 Gen                                                                 │
│ [18:13:52] ⠋ 100% throughput    (complete)   Req:    8.7 req/s,   35.94s Lat,   314.2 Conc,     521 Comp,      503 Inc,        0 Err                                                                 │
│                                              Tok: 2095.4 gen/s, 6873.1 tot/s, 17835.1ms TTFT,   75.8ms ITL,   547 Prompt,      240 Gen                                                               │
│ [18:15:07] ⠋ 100% constant@1.36 (complete)   Req:    1.3 req/s,    4.09s Lat,     5.3 Conc,      77 Comp,        5 Inc,        0 Err                                                                 │
│                                              Tok:  304.9 gen/s, 1011.2 tot/s,  59.6ms TTFT,   17.2ms ITL,   546 Prompt,      236 Gen                                                                 │
│ [18:17:22] ⠋ 100% constant@2.41 (complete)   Req:    2.3 req/s,    3.77s Lat,     8.6 Conc,     137 Comp,        9 Inc,        0 Err                                                                 │
│                                              Tok:  549.6 gen/s, 1801.0 tot/s,  59.4ms TTFT,   15.5ms ITL,   547 Prompt,      240 Gen                                                                 │
│ [18:19:06] ⠋ 100% constant@3.47 (complete)   Req:    3.3 req/s,    4.32s Lat,    14.2 Conc,     197 Comp,       14 Inc,        0 Err                                                                 │
│                                              Tok:  802.9 gen/s, 2600.2 tot/s,  66.5ms TTFT,   17.5ms ITL,   547 Prompt,      244 Gen                                                                 │
│ [18:20:39] ⠋ 100% constant@4.52 (complete)   Req:    4.3 req/s,    3.68s Lat,    15.9 Conc,     257 Comp,       18 Inc,        0 Err                                                                 │
│                                              Tok: 1050.1 gen/s, 3407.8 tot/s,  69.8ms TTFT,   14.9ms ITL,   547 Prompt,      243 Gen                                                                 │
│ [18:22:06] ⠋ 100% constant@5.58 (complete)   Req:    5.3 req/s,    3.64s Lat,    19.3 Conc,     318 Comp,       21 Inc,        0 Err                                                                 │
│                                              Tok: 1286.0 gen/s, 4185.2 tot/s,  74.6ms TTFT,   14.7ms ITL,   547 Prompt,      242 Gen                                                                 │
│ [18:23:28] ⠋ 100% constant@6.63 (complete)   Req:    6.3 req/s,    3.59s Lat,    22.7 Conc,     379 Comp,       24 Inc,        0 Err                                                                 │
│                                              Tok: 1540.4 gen/s, 5001.0 tot/s,  91.3ms TTFT,   14.4ms ITL,   547 Prompt,      243 Gen                                                                 │
│ [18:24:48] ⠋ 100% constant@7.69 (complete)   Req:    7.3 req/s,    3.81s Lat,    27.9 Conc,     438 Comp,       30 Inc,        0 Err                                                                 │
│                                              Tok: 1774.8 gen/s, 5772.6 tot/s, 140.0ms TTFT,   15.2ms ITL,   547 Prompt,      243 Gen                                                                 │
│ [18:26:06] ⠋ 100% constant@8.74 (complete)   Req:    8.3 req/s,    4.05s Lat,    33.6 Conc,     497 Comp,       35 Inc,        0 Err                                                                 │
│                                              Tok: 2015.4 gen/s, 6547.1 tot/s, 233.8ms TTFT,   15.8ms ITL,   547 Prompt,      243 Gen                                                                 │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
Generating... ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ (10/10) [ 0:14:19 < 0:00:00 ]                    
                    
Benchmarks Metadata:
    Run id:6a6a11bb-e4fa-4aef-b288-b2443d924a1c
    Duration:875.5 seconds
    Profile:type=sweep, strategies=['synchronous', 'throughput', 'constant', 'constant', 'constant', 'constant', 'constant', 'constant', 'constant', 'constant'], max_concurrency=None
    Args:max_number=None, max_duration=60.0, warmup_number=None, warmup_duration=None, cooldown_number=None, cooldown_duration=None
    Worker:type_='generative_requests_worker' backend_type='openai_http' backend_target='http://llama-stack-benchmark-service:8323/v1/openai' backend_model='meta-llama/Llama-3.2-3B-Instruct'          
    backend_info={'max_output_tokens': 16384, 'timeout': 300, 'http2': True, 'follow_redirects': True, 'headers': {}, 'text_completions_path': '/v1/completions', 'chat_completions_path':              
    '/v1/chat/completions'}                                                                                                                                                                             
    Request Loader:type_='generative_request_loader' data='prompt_tokens=512,output_tokens=256' data_args=None processor='meta-llama/Llama-3.2-3B-Instruct' processor_args=None
    Extras:None
                
                
Benchmarks Info:
===================================================================================================================================================
Metadata                                      |||| Requests Made  ||| Prompt Tok/Req ||| Output Tok/Req ||| Prompt Tok Total ||| Output Tok Total||
    Benchmark| Start Time| End Time| Duration (s)|  Comp|  Inc|  Err|  Comp|   Inc| Err|  Comp|   Inc| Err|   Comp|    Inc| Err|   Comp|   Inc| Err
-------------|-----------|---------|-------------|------|-----|-----|------|------|----|------|------|----|-------|-------|----|-------|------|----
  synchronous|   18:12:52| 18:13:52|         60.0|    18|    1|    0| 546.4| 512.0| 0.0| 246.8|  86.0| 0.0|   9836|    512|   0|   4442|    86|   0
   throughput|   18:13:57| 18:14:57|         60.1|   521|  503|    0| 546.6| 512.0| 0.0| 239.7| 149.7| 0.0| 284773| 257536|   0| 124898| 75318|   0
constant@1.36|   18:15:12| 18:16:12|         60.0|    77|    5|    0| 546.4| 512.0| 0.0| 235.9| 107.2| 0.0|  42075|   2560|   0|  18161|   536|   0
constant@2.41|   18:17:27| 18:18:27|         60.0|   137|    9|    0| 546.5| 512.0| 0.0| 240.0| 116.2| 0.0|  74874|   4608|   0|  32881|  1046|   0
constant@3.47|   18:19:11| 18:20:11|         60.0|   197|   14|    0| 546.5| 512.0| 0.0| 244.2| 139.9| 0.0| 107665|   7168|   0|  48098|  1959|   0
constant@4.52|   18:20:44| 18:21:44|         60.0|   257|   18|    0| 546.6| 512.0| 0.0| 243.4| 127.5| 0.0| 140467|   9216|   0|  62565|  2295|   0
constant@5.58|   18:22:11| 18:23:11|         60.0|   318|   21|    0| 546.6| 512.0| 0.0| 242.5| 125.9| 0.0| 173818|  10752|   0|  77101|  2643|   0
constant@6.63|   18:23:33| 18:24:33|         60.0|   379|   24|    0| 546.5| 512.0| 0.0| 243.3| 124.5| 0.0| 207130|  12288|   0|  92195|  2987|   0
constant@7.69|   18:24:53| 18:25:53|         60.0|   438|   30|    0| 546.6| 512.0| 0.0| 242.7| 129.6| 0.0| 239414|  15360|   0| 106286|  3887|   0
constant@8.74|   18:26:11| 18:27:12|         60.0|   497|   35|    0| 546.5| 512.0| 0.0| 243.1| 124.8| 0.0| 271615|  17920|   0| 120800|  4368|   0
===================================================================================================================================================
                 
                 
Benchmarks Stats:
===========================================================================================================================================================
Metadata     | Request Stats         || Out Tok/sec| Tot Tok/sec| Req Latency (sec) ||| TTFT (ms)              ||| ITL (ms)         ||| TPOT (ms)        ||
    Benchmark| Per Second| Concurrency|        mean|        mean|  mean| median|   p99|    mean|  median|     p99| mean| median|   p99| mean| median|   p99
-------------|-----------|------------|------------|------------|------|-------|------|--------|--------|--------|-----|-------|------|-----|-------|------
  synchronous|       0.31|        1.00|        75.5|       242.7|  3.27|   3.38|  3.41|    37.1|    36.4|    48.4| 13.1|   13.1|  13.2| 13.1|   13.1|  13.1
   throughput|       8.74|      314.17|      2095.4|      6873.1| 35.94|  34.38| 49.38| 17835.1| 11336.8| 36684.0| 75.8|   76.6| 124.3| 75.5|   76.3| 123.9
constant@1.36|       1.29|        5.29|       304.9|      1011.2|  4.09|   4.43|  4.64|    59.6|    59.9|    72.4| 17.2|   17.2|  17.9| 17.1|   17.1|  17.9
constant@2.41|       2.29|        8.64|       549.6|      1801.0|  3.77|   3.72|  4.54|    59.4|    59.0|    74.8| 15.5|   14.4|  17.5| 15.5|   14.3|  17.4
constant@3.47|       3.29|       14.20|       802.9|      2600.2|  4.32|   4.57|  4.89|    66.5|    64.2|   237.9| 17.5|   17.7|  18.9| 17.4|   17.6|  18.8
constant@4.52|       4.31|       15.88|      1050.1|      3407.8|  3.68|   3.86|  3.94|    69.8|    67.6|   110.5| 14.9|   14.9|  15.1| 14.8|   14.8|  15.1
constant@5.58|       5.30|       19.28|      1286.0|      4185.2|  3.64|   3.83|  3.96|    74.6|    71.1|   144.8| 14.7|   14.8|  15.0| 14.7|   14.7|  14.9
constant@6.63|       6.33|       22.72|      1540.4|      5001.0|  3.59|   3.75|  3.96|    91.3|    83.6|   161.7| 14.4|   14.4|  15.0| 14.4|   14.3|  14.9
constant@7.69|       7.31|       27.90|      1774.8|      5772.6|  3.81|   4.00|  4.11|   140.0|   136.1|   302.3| 15.2|   15.2|  15.5| 15.1|   15.1|  15.5
constant@8.74|       8.29|       33.59|      2015.4|      6547.1|  4.05|   4.21|  4.64|   233.8|   224.9|   530.2| 15.8|   15.7|  17.5| 15.7|   15.6|  17.4
===========================================================================================================================================================
                           
Saving benchmarks report...
Benchmarks report saved to /benchmarks.json
                      
Benchmarking complete.
